<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parfumerie Vault</title>
    <style>
        
        /* Added custom fonts using @font-face to apply specific typography styles for headings and body text */
        /*MDN Web Docs. (n.d.). @font-face. Mozilla. Retrieved April 9, 2025, from https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face*/
        @font-face {
            font-family: 'AGraham';
            src: url('h1_font/agraham.woff2') format('woff2'),
            url('h1_font/agraham.woff') format('woff');
            font-weight: normal;
            font-style: normal;
        }
        @font-face {
            font-family: 'YesevaOne-Regular';
            src: url('p_font/YesevaOne-Regular.woff2') format('woff2'),
            url('p_font/YesevaOne-Regular.woff') format('woff');
            font-weight: normal;
            font-style: normal;
        }


        /* Apply the font to h1 */
        /*MDN Web Docs. (n.d.). @keyframes. Mozilla. Retrieved April 9, 2025, from https://developer.mozilla.org/en-US/docs/Web/CSS/@keyframes*/
        #homepage-header h1 {
            font-family: 'AGraham', sans-serif;
            font-size: 3em;
            font-weight: bold;
            color: #FFFFFF; /* White color for the header */
            animation: fadeIn 1s ease-in-out, glow 1.5s ease-in-out 0.5s;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.7);
            margin: 0;
            padding-bottom: 10px;
        }

        @font-face {
            font-family: 'LANENAR_';
            src: url('body_font/LANENAR_.woff2') format('woff2'),
            url('body_font/LANENAR_.woff') format('woff');
            font-weight: normal;
            font-style: normal;
        }

        /* Apply fade-in and glow effect to paragraph */
        /*Coyier, C. (2023). How to create neon text with CSS. CSS-Tricks. https://css-tricks.com/how-to-create-neon-text-with-css/*/
        #homepage-header p {
            font-family: 'YesevaOne-Regular', sans-serif;
            font-size: 1.5em;
            font-style: italic;
            color: #FFFFFF;
            animation: fadeIn 1s ease-in-out, glow 1.5s ease-in-out 0.5s;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.7);
            margin: 0;
            padding-top: 5px;
            padding-bottom: 20px;
        }

        /* General Styles */
        body {
            font-family: 'LANENAR_', sans-serif;
            text-align: center;
            margin: 0;
            padding: 0;
            /* Applied a moving gradient background using CSS animations to enhance visual interest */
            /*Coyier, C. (2021). The state of changing gradients with CSS transitions and animations. CSS-Tricks. https://css-tricks.com/the-state-of-changing-gradients-with-css-transitions-and-animations/*/
            background: linear-gradient(-45deg, #f5a7b8, #b3e0d6, #d0c8f0, #ffdfba);
            background-size: 400% 400%;
            animation: gradientBG 10s ease infinite;
            overflow-x: hidden; /* Prevent horizontal scrolling */
            position: relative; /* For positioning the bubbles */
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Used ::before pseudo-element to overlay a subtle linen texture pattern over the gradient background */
        /*Coyier, C. (2014). 7 practical uses for the ::before and ::after pseudo-elements in CSS. CSS-Tricks. https://css-tricks.com/7-practical-uses-for-the-before-and-after-pseudo-elements-in-css/*/
        body::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('https://www.transparenttextures.com/patterns/linen.png');
            opacity: 0.5;
            pointer-events: none;
        }

        /* Homepage Header with fade-in and glow */
        #homepage-header {
            margin-top: 100px;
            animation: fadeIn 2s ease-in-out;
            margin-bottom: 10px;
        }

        /* Keyframe animation for fading in */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Glow effect animation */
        /*Coyier, C. (2023). How to create neon text with CSS. CSS-Tricks. https://css-tricks.com/how-to-create-neon-text-with-css/
        @keyframes glow {*/
            0% { text-shadow: 0 0 5px #FFFFFF, 0 0 10px #FFFFFF, 0 0 15px #FFFFFF; }
            50% { text-shadow: 0 0 10px #FFFFFF, 0 0 20px #FFFFFF, 0 0 30px #FFFFFF; }
            100% { text-shadow: none; } /* Glow disappears */
        }

        /* Created a spray effect using CSS animation that simulates perfume particles dispersing */
        /*Coyier, C. (2021). Playing with particles using the Web Animations API. CSS-Tricks. https://css-tricks.com/playing-with-particles-using-the-web-animations-api/*/
        .spray-container {
            position: relative;
            width: 100px;
            height: 100px;
        }

        .spray {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.7); /* Light white particles */
            border-radius: 50%;
            opacity: 0;
            pointer-events: none;
            animation: sprayEffect 1s forwards;
        }

        @keyframes sprayEffect {
            0% {
                transform: scale(0) translate(0, 0);
                opacity: 0.7;
        }
            100% {
                transform: scale(1.5) translate(20px, 20px);
                opacity: 0;
            }
        }

        .spray {
            filter: blur(4px); 
        }
        
        .spray {
            animation: sprayFade 1s forwards;
        }

        @keyframes sprayFade {
            0% {
                transform: scale(0) translate(0, 0);
                opacity: 1;
            }
        100% {
                transform: scale(1.5) translate(20px, 20px);
                opacity: 0;
            }
        }

        /* 
        Explanation: This style positions the bubble animation to cover the entire screen without affecting user interaction. It ensures the bubbles stay in the background and do not interfere with other elements.
        Reference: W3Schools. (n.d.). CSS Positioning. https://www.w3schools.com/css/css_positioning.asp 
        */
        .bubbles {
            position: fixed; /* Fix the bubbles in place to cover the entire page */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* Ensure bubbles stay in the background */
            pointer-events: none;
        }

        /* 
        Explanation: This class styles individual bubbles with size, opacity, and two animations for floating and glittering effects.
        Reference: MDN Web Docs. (n.d.). CSS animations. https://developer.mozilla.org/en-US/docs/Web/CSS/animation 
        */
        .bubble {
            position: absolute;
            width: 30px;
            height: 30px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite, glitter 2s linear infinite;
        }

        /* 
        Explanation: Defines the keyframes for a floating animation to simulate bubble movement.
        Reference: MDN Web Docs. (n.d.). @keyframes. https://developer.mozilla.org/en-US/docs/Web/CSS/@keyframes 
        */
        @keyframes float {
            0% {
                transform: translateY(0) translateX(0) scale(1);
            }
            50% {
                transform: translateY(-100px) translateX(50px) scale(1.5);
            }
            100% {
                transform: translateY(0) translateX(0) scale(1);
            }
        }

        /* 
        Explanation: Styles the wishlist drop zone with size, border, spacing, and layering.
        Reference: W3Schools. (n.d.). HTML Drag and Drop API. https://www.w3schools.com/html/html5_draganddrop.asp 
        */
        /* Wishlist Box */
        #wishlist {
            width: 200px;
            height: 300px;
            border: 2px dashed #ccc;
            margin-top: 20px;
            text-align: center;
            padding: 10px;
            z-index: 2;
        }

         /* 
        Explanation: Provides visual feedback while dragging an element.
        Reference: MDN Web Docs. (n.d.). CSS Transitions. https://developer.mozilla.org/en-US/docs/Web/CSS/transition 
        */
        .dragging {
            opacity: 0.5;
        }

        /* 
        Explanation: Container style for wishlist area with fixed dimensions and border.
        Reference: MDN Web Docs. (n.d.). CSS overflow. https://developer.mozilla.org/en-US/docs/Web/CSS/overflow 
        */
        .wishlist-box {
            width: 300px;
            height: 300px;
            border: 2px solid #ccc;
            position: relative;
            overflow: hidden;
        }

        /* 
        Explanation: Styles copied perfume images with reduced size and animation.
        Reference: W3Schools. (n.d.). CSS transform Property. https://www.w3schools.com/cssref/css3_pr_transform.asp 
        */
        .wishlist {
            width: 80px;
            height: 80px;
            margin: 5px;
            transform: scale(0.5);
            transition: transform 0.3s ease;
        }

        /* 
        Explanation: Flex container to align perfume cards centrally with spacing.
        Reference: CSS-Tricks. (n.d.). A Complete Guide to Flexbox. https://css-tricks.com/snippets/css/a-guide-to-flexbox/ 
        */
        .container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            z-index: 1;
        }

        /* 
        Explanation: Individual perfume card with padding, border, and hover animation.
        Reference: MDN Web Docs. (n.d.). CSS transitions. https://developer.mozilla.org/en-US/docs/Web/CSS/transition 
        */
        .perfume {
            width: 150px;
            padding: 10px;
            text-align: center;
            border: 1px solid #ccc;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.3s ease;
            z-index: 2;
        }

        .perfume:hover {
            transform: scale(1.1);
        }

        /* 
        Explanation: Styles the container for location display and server responses.
        Reference: W3Schools. (n.d.). HTML Geolocation. https://www.w3schools.com/html/html5_geolocation.asp 
        */
        #location, #server-response {
            margin-top: 20px;
        }

        /* 
        Explanation: Additional styling for perfume cards with blur effect and hover animations.
        Reference: CSS-Tricks. (2020). Using Backdrop Filter. https://css-tricks.com/almanac/properties/b/backdrop-filter/ 
        */
        .perfume-item {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(12px);
            border-radius: 15px;
            padding: 20px;
            transition: transform 0.3s ease, background 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
        }

        .perfume-item:hover {
            transform: scale(1.1);
            background: rgba(255, 255, 255, 0.35);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }

        /* 
        Explanation: Styling for interactive buttons with animations on hover and focus.
        Reference: MDN Web Docs. (n.d.). CSS pseudo-elements. https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements 
        */
        button {
            position: relative;
            border-radius: 12px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            background-color: #008080;
            color: #fff;
            border: 2px solid transparent;
            transition: all 0.3s ease-in-out;
        }

        button:hover {
            transform: scale(1.1) translateY(-5px) rotate(5deg);
            background-color: #008080;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            border-color: #90E4C1;
        }

        button:focus {
            outline: none;
            box-shadow: 0 0 10px rgba(255, 102, 204, 0.5);
        }

        button::after {
            content: '';
            position: absolute;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: scale(0);
            animation: ripple 0.6s ease-out;
            pointer-events: none;

        }
        /* 
        Explanation: Ripple animation effect for button interaction.
        Reference: Web Dev Simplified. (2021). https://www.youtube.com/watch?v=4wU2Z4uDnG4 
        */
        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

                /* 
        Explanation: Ensures full height of the page and gives space for scroll animations.
        Reference: MDN Web Docs. (n.d.). CSS height property. https://developer.mozilla.org/en-US/docs/Web/CSS/height 
        */
        html, body {
            height: 100%;
        }

        .content {
            margin-bottom: 100px; /* Give space for scrolling */
        }

        /* 
        Explanation: Styles the hamburger menu button for mobile navigation.
        Reference: W3Schools. (n.d.). Responsive Navigation Bar. https://www.w3schools.com/howto/howto_js_topnav_responsive.asp 
        */
        .hamburger {
            background-color: transparent; /* Transparent background */
            border: none; /* No border */
            font-size: 30px; /* Size of the button */
            cursor: pointer; /* Pointer cursor on hover */
            position: fixed; /* Fixed position */
            top: 20px; /* Position from the top */
            left: 20px; /* Position from the left */
            z-index: 20; /* Ensure it stays above other content */
        }

             /* 
            Explanation: Fixes the navigation bar at the top of the screen with visibility toggle on scroll.
            Reference: MDN Web Docs. (n.d.). position: fixed. https://developer.mozilla.org/en-US/docs/Web/CSS/position 
            */        
            nav {
            background-color: rgba(255, 255, 255, 0.9); /* Light background for the navbar */
            position: fixed; /* Fix the navbar at the top */
            top: 0; /* Align to the top */
            left: 0; /* Align to the left */
            width: 100%; /* Full width */
            height: 60px; /* Height of the navbar */
            z-index: 10; /* Ensure it stays above other content */
            transition: transform 0.3s ease; /* Smooth transition */
        }

        /* Hides the navbar by moving it up out of view when the class 'hidden' is added */
        /* Reference: W3Schools. (n.d.). How TO - Hide Navbar on Scroll. https://www.w3schools.com/howto/howto_js_navbar_hide_scroll.asp */
        nav.hidden {
            transform: translateY(-100%); /* Move the navbar out of view */
        }

        /* Style for the navigation bar container */
        /* Reference: W3Schools. (n.d.). CSS Navigation Bar. https://www.w3schools.com/css/css_navbar.asp */

        .navbar {
            list-style-type: none; /* Remove bullet points */
            margin: 0; /* Remove default margin */
            padding: 0; /* Remove default padding */
            display: flex; /* Flexbox for horizontal layout */
            justify-content: space-around; /* Space items evenly */
            align-items: center; /* Center items vertically */
            height: 100%; /* Full height */
        }

        .navbar li {
            margin: 0; /* No margin for list items */
        }

        /* Styles for anchor links inside navbar */
        /* Reference: MDN Web Docs. (n.d.). :hover - CSS: Cascading Style Sheets. https://developer.mozilla.org/en-US/docs/Web/CSS/:hover */
        .navbar a {
            text-decoration: none; /* Remove underline from links */
            color: #333; /* Dark text color */
            font-weight: bold; /* Bold text */
            padding: 10px 20px; /* Padding for links */
            transition: background 0.3s; /* Smooth background transition */
        }

        .navbar a:hover {
            background-color: #008080; /* Change background on hover */
            color: white; /* Change text color on hover */
        }

    </style>
</head>
<body>
<!-- 
This section defines the navigation bar with links to different sections of the page. 
It uses the <nav> and <ul> elements to create a responsive navigation menu that becomes visible on scroll up.
Reference:
W3Schools. (n.d.). HTML nav Tag. W3Schools. https://www.w3schools.com/tags/tag_nav.asp 
-->
<nav id="navbar" class="hidden">
    <ul class="navbar">
        <li><a href="#home">Home</a></li>
        <li><a href="#discover">Discover</a></li>
        <li><a href="#reviews">Reviews and Ratings</a></li>
        <li><a href="#wishlist">Wishlist</a></li>
        <li><a href="#signup">Sign Up / Log In</a></li>
        <li><a href="#about">About Us</a></li>
        <li><a href="#contact">Contact</a></li>
        <li><a href="#feedback">Feedback</a></li>
    </ul>
</nav>

<!-- 
This section introduces the homepage header including the brand name and slogan.
Reference:
W3Schools. (n.d.). HTML <h1> to <h6> Tags. https://www.w3schools.com/tags/tag_hn.asp 
-->
<div id="homepage-header">
    <h1>Parfumerie Vault</h1>
    <p>The only perfume finder you need.</p>
</div>

<!-- 
Creates decorative bubble animation using multiple divs with different animation delays and horizontal positions.
Reference:
CSS-Tricks. (2019). Creating a Bubble Animation with CSS and JavaScript. https://css-tricks.com/creating-a-bubble-animation-with-css-and-javascript/ 
-->
<div class="bubbles">
    <div class="bubble" style="animation-delay: 0s; left: 10%;"></div>
    <div class="bubble" style="animation-delay: 1s; left: 20%;"></div>
    <div class="bubble" style="animation-delay: 2s; left: 30%;"></div>
    <div class="bubble" style="animation-delay: 3s; left: 40%;"></div>
    <div class="bubble" style="animation-delay: 4s; left: 50%;"></div>
    <div class="bubble" style="animation-delay: 5s; left: 60%;"></div>
    <div class="bubble" style="animation-delay: 6s; left: 70%;"></div>
    <div class="bubble" style="animation-delay: 7s; left: 80%;"></div>
    <div class="bubble" style="animation-delay: 8s; left: 90%;"></div>
</div>

<!-- 
Heading for perfume wishlist feature.
Reference:
W3Schools. (n.d.). HTML <h2> Tag. https://www.w3schools.com/tags/tag_hn.asp 
-->
<h2>Perfume Wishlist (Drag & Drop)</h2>

<!-- 
Container for drag-and-drop feature. Users can drag perfume items into the wishlist.
Reference:
MDN Web Docs. (2023). HTML Drag and Drop API. https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API 
-->
<div class="container">
    <div class="box" id="wishlist" ondrop="drop(event)" ondragover="allowDrop(event)">Wishlist</div>

    <!-- 
    Draggable perfume card elements with individual perfume details.
    Reference:
    W3Schools. (n.d.). HTML Drag and Drop. https://www.w3schools.com/html/html5_draganddrop.asp 
    -->
    <div class="perfume perfume-item" id="perfume1" draggable="true" ondragstart="drag(event)">
        <img src="https://i.postimg.cc/63GbpgJf/img1-crgg.png" alt="Carolina Herrera Good Girl" style="width:100px;height:150px;">
        <p>Carolina Herrera Good Girl</p>
        <div class="spray-container spray"></div>
    </div>
    <div class="perfume perfume-item" id="perfume2" draggable="true" ondragstart="drag(event)">
        <img src="https://i.postimg.cc/hGWFpRj8/img2-chggb.png" alt="Carolina Herrera Good Girl Blush" style="width:100px;height:150px;">
        <p>Carolina Herrera Good Girl Blush</p>
        <div class="spray-container spray"></div>
    </div>
    <div class="perfume perfume-item" id="perfume3" draggable="true" ondragstart="drag(event)">
        <img src="https://i.postimg.cc/qvKStDLN/img3-chggsi.png" alt="Carolina Herrera Good Girl Sparkling Ice" style="width:100px;height:150px;">
        <p>Carolina Herrera Good Girl Sparkling Ice</p>
        <div class="spray-container spray"></div>
    </div>
    <div class="perfume perfume-item" id="perfume4" draggable="true" ondragstart="drag(event)">
        <img src="https://i.postimg.cc/MHXrz9HK/img4-chggvf.png" alt="Carolina Herrera Good Girl Velvet Fatale" style="width:100px;height:150px;">
        <p>Carolina Herrera Good Girl Velvet Fatale</p>
        <div class="spray-container spray"></div>
    </div>
</div>

<!-- 
Geolocation feature to find user's current location using navigator.geolocation.
Reference:
W3Schools. (n.d.). HTML Geolocation API. https://www.w3schools.com/html/html5_geolocation.asp 
-->
<h2>Find Nearby Stores</h2>
<button onclick="getLocation()">Find Stores</button>
<p id="location"></p>

<!-- 
Server interaction: Button to fetch new perfume suggestions from a backend server.
Reference:
MDN Web Docs. (2023). Fetch API. https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API 
-->
<h2>Server-Side Processing</h2>
<button onclick="fetchNewPerfume()">Fetch New Perfume</button>
<div id="server-response"></div>

<!-- 
SSE (Server-Sent Events) setup to receive live updates from the server.
Reference:
MDN Web Docs. (2023). Server-sent events. https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events 
-->
<h1>Getting server updates</h1>
<div id="result"></div>

<!-- 
Button and display area for filtering only Group 6 related server updates.
Reference:
MDN Web Docs. (2023). EventSource.onmessage. https://developer.mozilla.org/en-US/docs/Web/API/EventSource/onmessage 
-->
<button onclick="filterGroup6Updates()">Filter Group 6 Updates</button>
<div id="group6-updates"></div>

<script>
/* 
Shows/hides the navbar depending on scroll direction.
Reference:
GeeksforGeeks. (2022). How to hide and show navbar on scroll using JavaScript? https://www.geeksforgeeks.org/how-to-hide-and-show-navbar-on-scroll-using-javascript/ 
*/
let lastScrollTop = 0;
const navbar = document.getElementById('navbar');

window.addEventListener('scroll', function() {
    const currentScroll = window.pageYOffset || document.documentElement.scrollTop;
    if (currentScroll > lastScrollTop) {
        navbar.classList.add('hidden');
    } else {
        navbar.classList.remove('hidden');
    }
    lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;
});

/* 
Dynamically creates animated bubbles when page loads.
Reference:
CSS-Tricks. (2019). Creating a Bubble Animation with CSS and JavaScript. https://css-tricks.com/creating-a-bubble-animation-with-css-and-javascript/ 
*/
function createBubbles() {
    const bubbleContainer = document.querySelector('.bubbles');
    const numberOfBubbles = 20;

    for (let i = 0; i < numberOfBubbles; i++) {
        const bubble = document.createElement('div');
        bubble.classList.add('bubble');
        bubble.style.left = Math.random() * 100 + 'vw';
        bubble.style.top = Math.random() * 100 + 'vh';
        const duration = Math.random() * 5 + 5;
        bubble.style.animationDuration = duration + 's';
        bubbleContainer.appendChild(bubble);
    }
}

window.onload = createBubbles;

/* 
Allows elements to be dragged into drop zones by preventing default dragover behavior.
Reference:
MDN Web Docs. (2023). HTML Drag and Drop API. https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API 
*/
function allowDrop(event) {
    event.preventDefault();
}

/* 
Stores the ID of the dragged element so it can be referenced on drop.
Reference:
W3Schools. (n.d.). HTML Drag and Drop. https://www.w3schools.com/html/html5_draganddrop.asp 
*/
function drag(event) {
    event.dataTransfer.setData("text", event.target.id);
}

/* 
Handles drop by cloning perfume image and appending it to the wishlist.
Reference:
MDN Web Docs. (2023). DataTransfer.getData(). https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/getData 
*/
function drop(ev) {
    ev.preventDefault();
    var data = ev.dataTransfer.getData('text');
    var perfume = document.getElementById(data);
    var clonedImage = perfume.querySelector('img').cloneNode(true);
    clonedImage.style.width = '80px';
    clonedImage.style.height = '80px';
    clonedImage.classList.add('wishlist-image');
    clonedImage.onclick = function() {
        this.parentNode.removeChild(this);
    };
    var wishlist = document.getElementById("wishlist");
    wishlist.appendChild(clonedImage);
}

/* 
Uses geolocation API to get user coordinates and display them.
Reference:
W3Schools. (n.d.). HTML Geolocation API. https://www.w3schools.com/html/html5_geolocation.asp 
*/
function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else {
        document.getElementById("location").innerHTML = "Geolocation not supported.";
    }
}

function showPosition(position) {
    document.getElementById("location").innerHTML =
        "Latitude: " + position.coords.latitude + 
        "<br>Longitude: " + position.coords.longitude;
}

/* 
Fetches content from server using fetch API.
Reference:
MDN Web Docs. (2023). Fetch API. https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API 
*/
function fetchNewPerfume() {
    fetch('server.php')
        .then(response => response.text())
        .then(data => document.getElementById("server-response").innerHTML = data)
        .catch(error => console.error('Error:', error));
}

/* 
Sets up an EventSource to receive server-sent messages. Filters for updates containing "#group06".
Reference:
MDN Web Docs. (2023). Server-sent events. https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events 
*/
if (typeof(EventSource) !== "undefined") {
    var source = new EventSource("https://lms.pb.edu.bn/wy2301/sse.php");
    var group6Updates = [];

    source.onmessage = function(event) {
        if (typeof event.data === "string" && event.data.toLowerCase().includes("#group06")) {
            group6Updates.push(event.data);
        }
    };

/* 
Displays filtered Group 6 updates on the page.
Reference:
MDN Web Docs. (2023). Document.createElement(). https://developer.mozilla.org/en-US/docs/Web/API/Document/createElement 
*/
function filterGroup6Updates() {
    document.getElementById("group6-updates").innerHTML = "";
    group6Updates.forEach(update => {
        const p = document.createElement("p");
        p.textContent = update;
        document.getElementById("group6-updates").appendChild(p);
    });
}

}

    function allowDrop(ev) {
        ev.preventDefault();
    }

    /* 
This function is triggered when the user starts dragging a perfume card.
It creates a visual clone of the card, positions it based on the cursor, and stores the dragged element’s ID for the drop event.

Reference:
MDN Web Docs. (2023). DataTransfer.setData() - Web APIs. https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/setData
*/
function drag(ev) {
    // Create a clone of the dragged element (perfume card)
    var clone = ev.target.cloneNode(true);
    clone.style.position = 'absolute';
    clone.style.top = ev.pageY - ev.target.clientHeight / 2 + 'px';
    clone.style.left = ev.pageX - ev.target.clientWidth / 2 + 'px';

    // Store the ID of the dragged element to be used in drop()
    ev.dataTransfer.setData

    </script>

</body>
</html>
